<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>amqpproducer - Go Documentation Server</title>

<link type="text/css" rel="stylesheet" href="style.css">

<script>window.initFuncs = [];</script>
<script src="jquery.js" defer></script>



<script>var goVersion = "go1.13.5";</script>
<script src="godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="http://localhost:6161/pkg/">Go Documentation Server</a></div>
<div class="top-heading" id="heading-narrow"><a href="http://localhost:6161/pkg/">GoDoc</a></div>
<a href="godoc.10.html#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="http://localhost:6161/search">
<div id="menu">

<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package amqpproducer
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "github.com/peake100/rogerRabbit-go/roger/amqpproducer"</code></dd>
			</dl>
			<dl>
			<dd><a href="godoc.10.html#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="godoc.10.html#pkg-index" class="indexLink">Index</a></dd>
			
				<dd><a href="godoc.10.html#pkg-examples" class="examplesLink">Examples</a></dd>
			
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				<p>
package amqpproducer provides an easy-to0use message publication abstraction for
publishing messages and receiving broker confirmations across multiple goroutines.
</p>

				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
			
			
			
				
				<dd><a href="godoc.10.html#ErrNack">type ErrNack</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.10.html#ErrNack.Error">func (err ErrNack) Error() string</a></dd>
				
			
				
				<dd><a href="godoc.10.html#ErrPublish">type ErrPublish</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.10.html#ErrPublish.Error">func (err ErrPublish) Error() string</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.10.html#ErrPublish.Unwrap">func (err ErrPublish) Unwrap() error</a></dd>
				
			
				
				<dd><a href="godoc.10.html#Opts">type Opts</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.10.html#NewOpts">func NewOpts() *Opts</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.10.html#Opts.WithConfirmPublish">func (opts *Opts) WithConfirmPublish(confirm bool) *Opts</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.10.html#Opts.WithInternalQueueCapacity">func (opts *Opts) WithInternalQueueCapacity(size int) *Opts</a></dd>
				
			
				
				<dd><a href="godoc.10.html#Producer">type Producer</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.10.html#New">func New(amqpChannel *amqp.Channel, opts *Opts) *Producer</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.10.html#Producer.Publish">func (producer *Producer) Publish(ctx context.Context, exchange string, key string, mandatory bool, immediate bool, msg amqp.Publishing) (err error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.10.html#Producer.QueueForPublication">func (producer *Producer) QueueForPublication(ctx context.Context, exchange string, key string, mandatory bool, immediate bool, msg amqp.Publishing) (order *Publication, err error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.10.html#Producer.Run">func (producer *Producer) Run() error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.10.html#Producer.StartShutdown">func (producer *Producer) StartShutdown()</a></dd>
				
			
				
				<dd><a href="godoc.10.html#Publication">type Publication</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.10.html#Publication.WaitOnConfirmation">func (order *Publication) WaitOnConfirmation() error</a></dd>
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		
		<div id="pkg-examples">
			<h3>Examples</h3>
			<div class="js-expandAll expandAll collapsed">(Expand All)</div>
			<dl>
			
			<dd><a class="exampleLink" href="godoc.10.html#example_New">New</a></dd>
			
			</dl>
		</div>
		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="http://localhost:6161/src/github.com/peake100/rogerRabbit-go/roger/amqpproducer/doc.go">doc.go</a>
			
				<a href="http://localhost:6161/src/github.com/peake100/rogerRabbit-go/roger/amqpproducer/errors.go">errors.go</a>
			
				<a href="http://localhost:6161/src/github.com/peake100/rogerRabbit-go/roger/amqpproducer/opts.go">opts.go</a>
			
				<a href="http://localhost:6161/src/github.com/peake100/rogerRabbit-go/roger/amqpproducer/producer.go">producer.go</a>
			
				<a href="http://localhost:6161/src/github.com/peake100/rogerRabbit-go/roger/amqpproducer/publication.go">publication.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
		
		
		
			
			
			<h2 id="ErrNack">type <a href="http://localhost:6161/src/github.com/peake100/rogerRabbit-go/roger/amqpproducer/errors.go?s=604:845#L15">ErrNack</a>
				<a class="permalink" href="godoc.10.html#ErrNack">&#xb6;</a>
				
				
			</h2>
			<p>
ErrNack is the error returned when trying to publish through the broker
channel results in an error.
</p>

			<pre>type ErrNack struct {
<span id="ErrNack.Orphan"></span>    <span class="comment">// Orphan is whether this nack was a result of being an orphaned message. Orphaned</span>
    <span class="comment">// messages MAY have been successfully published, but there is no way to know for</span>
    <span class="comment">// sure that the broker received it.</span>
    Orphan <a href="http://localhost:6161/pkg/builtin/#bool">bool</a>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="ErrNack.Error">func (ErrNack) <a href="http://localhost:6161/src/github.com/peake100/rogerRabbit-go/roger/amqpproducer/errors.go?s=883:916#L23">Error</a>
					<a class="permalink" href="godoc.10.html#ErrNack.Error">&#xb6;</a>
					
					
				</h3>
				<pre>func (err <a href="godoc.10.html#ErrNack">ErrNack</a>) Error() <a href="http://localhost:6161/pkg/builtin/#string">string</a></pre>
				<p>
Error implements builtins.error.
</p>

				
				
				
			
		
			
			
			<h2 id="ErrPublish">type <a href="http://localhost:6161/src/github.com/peake100/rogerRabbit-go/roger/amqpproducer/errors.go?s=146:187#L1">ErrPublish</a>
				<a class="permalink" href="godoc.10.html#ErrPublish">&#xb6;</a>
				
				
			</h2>
			<p>
ErrPublish is the error returned when trying to publish through the broker
channel results in an error.
</p>

			<pre>type ErrPublish struct {
<span id="ErrPublish.AmqpErr"></span>    AmqpErr <a href="http://localhost:6161/pkg/builtin/#error">error</a>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="ErrPublish.Error">func (ErrPublish) <a href="http://localhost:6161/src/github.com/peake100/rogerRabbit-go/roger/amqpproducer/errors.go?s=361:397#L7">Error</a>
					<a class="permalink" href="godoc.10.html#ErrPublish.Error">&#xb6;</a>
					
					
				</h3>
				<pre>func (err <a href="godoc.10.html#ErrPublish">ErrPublish</a>) Error() <a href="http://localhost:6161/pkg/builtin/#string">string</a></pre>
				<p>
Error implements builtins.error.
</p>

				
				
				
			
				
				<h3 id="ErrPublish.Unwrap">func (ErrPublish) <a href="http://localhost:6161/src/github.com/peake100/rogerRabbit-go/roger/amqpproducer/errors.go?s=263:299#L2">Unwrap</a>
					<a class="permalink" href="godoc.10.html#ErrPublish.Unwrap">&#xb6;</a>
					
					
				</h3>
				<pre>func (err <a href="godoc.10.html#ErrPublish">ErrPublish</a>) Unwrap() <a href="http://localhost:6161/pkg/builtin/#error">error</a></pre>
				<p>
Unwrap implements xerrors.Wrapper and returns the original Amqp error.
</p>

				
				
				
			
		
			
			
			<h2 id="Opts">type <a href="http://localhost:6161/src/github.com/peake100/rogerRabbit-go/roger/amqpproducer/opts.go?s=58:235#L1">Opts</a>
				<a class="permalink" href="godoc.10.html#Opts">&#xb6;</a>
				
				
			</h2>
			<p>
Opts holds options for Producer.
</p>

			<pre>type Opts struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewOpts">func <a href="http://localhost:6161/src/github.com/peake100/rogerRabbit-go/roger/amqpproducer/opts.go?s=1041:1061#L24">NewOpts</a>
					<a class="permalink" href="godoc.10.html#NewOpts">&#xb6;</a>
					
					
				</h3>
				<pre>func NewOpts() *<a href="godoc.10.html#Opts">Opts</a></pre>
				<p>
NewOpts returns a new Opts with default options.
</p>

				
				
			

			
				
				<h3 id="Opts.WithConfirmPublish">func (*Opts) <a href="http://localhost:6161/src/github.com/peake100/rogerRabbit-go/roger/amqpproducer/opts.go?s=489:545#L6">WithConfirmPublish</a>
					<a class="permalink" href="godoc.10.html#Opts.WithConfirmPublish">&#xb6;</a>
					
					
				</h3>
				<pre>func (opts *<a href="godoc.10.html#Opts">Opts</a>) WithConfirmPublish(confirm <a href="http://localhost:6161/pkg/builtin/#bool">bool</a>) *<a href="godoc.10.html#Opts">Opts</a></pre>
				<p>
WithConfirmPublish sets whether to confirm publications with the broker before
returning on a &#34;Publish&#34; call When true, all called to Producer.Publish() will block
until a publish confirmation is received from the broker.
</p>
<p>
Default: true.
</p>

				
				
				
			
				
				<h3 id="Opts.WithInternalQueueCapacity">func (*Opts) <a href="http://localhost:6161/src/github.com/peake100/rogerRabbit-go/roger/amqpproducer/opts.go?s=876:935#L18">WithInternalQueueCapacity</a>
					<a class="permalink" href="godoc.10.html#Opts.WithInternalQueueCapacity">&#xb6;</a>
					
					
				</h3>
				<pre>func (opts *<a href="godoc.10.html#Opts">Opts</a>) WithInternalQueueCapacity(size <a href="http://localhost:6161/pkg/builtin/#int">int</a>) *<a href="godoc.10.html#Opts">Opts</a></pre>
				<p>
WithInternalQueueCapacity sets the internal queue size.
</p>
<p>
Internally, the producer stores incoming publication requests and published requests
waiting for a broker acknowledgement in go channels. This options sets the size
for those internal queues.
</p>
<p>
Default: 64
</p>

				
				
				
			
		
			
			
			<h2 id="Producer">type <a href="http://localhost:6161/src/github.com/peake100/rogerRabbit-go/roger/amqpproducer/producer.go?s=330:1135#L3">Producer</a>
				<a class="permalink" href="godoc.10.html#Producer">&#xb6;</a>
				
				
			</h2>
			<p>
Producer is a wrapper for an amqp channel that handles the boilerplate of confirming
publishings, retrying nacked messages, and other useful quality of life features.
</p>

			<pre>type Producer struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="New">func <a href="http://localhost:6161/src/github.com/peake100/rogerRabbit-go/roger/amqpproducer/producer.go?s=10555:10612#L322">New</a>
					<a class="permalink" href="godoc.10.html#New">&#xb6;</a>
					
					
				</h3>
				<pre>func New(amqpChannel *<a href="godoc.11.html">amqp</a>.<a href="godoc.11.html#Channel">Channel</a>, opts *<a href="godoc.10.html#Opts">Opts</a>) *<a href="godoc.10.html#Producer">Producer</a></pre>
				<p>
New creates a new producer using the given amqp.Channel and opts.
</p>
<p>
amqpChannel should be a fresh channel that has been configured with the correct
queues for the producer. It should have no messages published through it before it
is passed to this method.
</p>
<p>
Once the channel is passed to the producer, the producer should be considered to
own it. No additional operations should be done through amqpChannel once it is
passed to this method. The channel will be closed upon producer shutdown. A single
channel should NOT be passed to multiple producers.
</p>
<p>
If opts.confirmPublish is set to true, the channel will be put into confirm mode
by the producer. There is no need to do so before passing it to this method.
</p>
<p>
If opts is nil, default options will be used.
</p>

				<div id="example_New" class="toggle">
	<div class="collapsed">
		<p class="exampleHeading toggleButton">▹ <span class="text">Example</span></p>
	</div>
	<div class="expanded">
		<p class="exampleHeading toggleButton">▾ <span class="text">Example</span></p>
		
		
		
			<p>Code:</p>
			<pre class="code">
<span class="comment">// Get a new connection to our test broker.</span>
connection, err := amqp.DialCtx(context.Background(), amqptest.TestDialAddress)
if err != nil {
    panic(err)
}
defer connection.Close()

<span class="comment">// Get a new channel from our robust connection for publishing. This channel will</span>
<span class="comment">// be put into confirmation mode by the producer.</span>
channel, err := connection.Channel()
if err != nil {
    panic(err)
}

<span class="comment">// Declare a queue to produce to</span>
queue, err := channel.QueueDeclare(
    &#34;example_confirmation_producer&#34;, <span class="comment">// name</span>
    false,                           <span class="comment">// durable</span>
    true,                            <span class="comment">// autoDelete</span>
    false,                           <span class="comment">// exclusive</span>
    false,                           <span class="comment">// noWait</span>
    nil,                             <span class="comment">// args</span>
)

<span class="comment">// Create a new producer using our channel. Passing nil to opts will result in</span>
<span class="comment">// default opts being used. By default, a Producer will put the passed channel in</span>
<span class="comment">// confirmation mode, and each time publish is called, will block until a</span>
<span class="comment">// confirmation from the server has been received.</span>
producer := amqpproducer.New(channel, nil)
producerComplete := make(chan struct{})

<span class="comment">// Run the producer in it&#39;s own goroutine.</span>
go func() {
    <span class="comment">// Signal this routine has exited on exit.</span>
    defer close(producerComplete)

    err = producer.Run()
    if err != nil {
        panic(err)
    }
}()

messagesPublished := new(sync.WaitGroup)
for i := 0; i &lt; 10; i++ {

    messagesPublished.Add(1)

    <span class="comment">// Publish each message in it&#39;s own goroutine The producer handles the</span>
    <span class="comment">// boilerplate of tracking publication tags and receiving broker confirmations.</span>
    go func() {
        <span class="comment">// Release our WaitGroup on exit.</span>
        defer messagesPublished.Done()

        ctx, cancel := context.WithTimeout(context.Background(), 5*time.Second)
        defer cancel()

        <span class="comment">// Publish a message, this method will block until we get a publication</span>
        <span class="comment">// confirmation from the broker OR ctx expires.</span>
        err = producer.Publish(
            ctx,
            &#34;&#34;,         <span class="comment">// exchange</span>
            queue.Name, <span class="comment">// queue</span>
            true,       <span class="comment">// mandatory</span>
            false,      <span class="comment">// immediate</span>
            amqp.Publishing{
                Body: []byte(&#34;test message&#34;),
            },
        )

        fmt.Println(&#34;Message Published and Confirmed!&#34;)

        if err != nil {
            panic(err)
        }
    }()
}

<span class="comment">// Wait for all our messages to be published</span>
messagesPublished.Wait()

<span class="comment">// Start the shutdown of the producer</span>
producer.StartShutdown()

<span class="comment">// Wait for the producer to exit.</span>
&lt;-producerComplete

<span class="comment">// exit.</span>

<span class="comment">// Message Published and Confirmed!</span>
<span class="comment">// Message Published and Confirmed!</span>
<span class="comment">// Message Published and Confirmed!</span>
<span class="comment">// Message Published and Confirmed!</span>
<span class="comment">// Message Published and Confirmed!</span>
<span class="comment">// Message Published and Confirmed!</span>
<span class="comment">// Message Published and Confirmed!</span>
<span class="comment">// Message Published and Confirmed!</span>
<span class="comment">// Message Published and Confirmed!</span>
<span class="comment">// Message Published and Confirmed!</span>
</pre>
			
		
	</div>
</div>

				
			

			
				
				<h3 id="Producer.Publish">func (*Producer) <a href="http://localhost:6161/src/github.com/peake100/rogerRabbit-go/roger/amqpproducer/producer.go?s=4140:4297#L114">Publish</a>
					<a class="permalink" href="godoc.10.html#Producer.Publish">&#xb6;</a>
					
					
				</h3>
				<pre>func (producer *<a href="godoc.10.html#Producer">Producer</a>) Publish(
    ctx <a href="http://localhost:6161/pkg/context/">context</a>.<a href="http://localhost:6161/pkg/context/#Context">Context</a>,
    exchange <a href="http://localhost:6161/pkg/builtin/#string">string</a>,
    key <a href="http://localhost:6161/pkg/builtin/#string">string</a>,
    mandatory <a href="http://localhost:6161/pkg/builtin/#bool">bool</a>,
    immediate <a href="http://localhost:6161/pkg/builtin/#bool">bool</a>,
    msg <a href="godoc.11.html">amqp</a>.<a href="godoc.11.html#Publishing">Publishing</a>,
) (err <a href="http://localhost:6161/pkg/builtin/#error">error</a>)</pre>
				<p>
Publish a message. This method is goroutine safe, even when confirming publications
with the broker. When confirming messages with a broker, this method will block until
the broker confirms the message publication or ctx is cancelled.
</p>
<p>
Cancelling the context will cause this method to return, but have no other effect
if the message has already been sent to thr broker and we are waiting for a response.
</p>

				
				
				
			
				
				<h3 id="Producer.QueueForPublication">func (*Producer) <a href="http://localhost:6161/src/github.com/peake100/rogerRabbit-go/roger/amqpproducer/producer.go?s=5281:5470#L156">QueueForPublication</a>
					<a class="permalink" href="godoc.10.html#Producer.QueueForPublication">&#xb6;</a>
					
					
				</h3>
				<pre>func (producer *<a href="godoc.10.html#Producer">Producer</a>) QueueForPublication(
    ctx <a href="http://localhost:6161/pkg/context/">context</a>.<a href="http://localhost:6161/pkg/context/#Context">Context</a>,
    exchange <a href="http://localhost:6161/pkg/builtin/#string">string</a>,
    key <a href="http://localhost:6161/pkg/builtin/#string">string</a>,
    mandatory <a href="http://localhost:6161/pkg/builtin/#bool">bool</a>,
    immediate <a href="http://localhost:6161/pkg/builtin/#bool">bool</a>,
    msg <a href="godoc.11.html">amqp</a>.<a href="godoc.11.html#Publishing">Publishing</a>,
) (order *<a href="godoc.10.html#Publication">Publication</a>, err <a href="http://localhost:6161/pkg/builtin/#error">error</a>)</pre>
				<p>
QueueForPublication is as Publish, but only puts the order into an internal queue
before returning, allowing the user to wait on publication confirmation themselves
through the returned Publication value.
</p>
<p>
Useful when ensuring publication order is important.
</p>

				
				
				
			
				
				<h3 id="Producer.Run">func (*Producer) <a href="http://localhost:6161/src/github.com/peake100/rogerRabbit-go/roger/amqpproducer/producer.go?s=7167:7204#L225">Run</a>
					<a class="permalink" href="godoc.10.html#Producer.Run">&#xb6;</a>
					
					
				</h3>
				<pre>func (producer *<a href="godoc.10.html#Producer">Producer</a>) Run() <a href="http://localhost:6161/pkg/builtin/#error">error</a></pre>
				<p>
Run the producer, this method blocks until the producer has been shut down.
</p>

				
				
				
			
				
				<h3 id="Producer.StartShutdown">func (*Producer) <a href="http://localhost:6161/src/github.com/peake100/rogerRabbit-go/roger/amqpproducer/producer.go?s=9653:9694#L302">StartShutdown</a>
					<a class="permalink" href="godoc.10.html#Producer.StartShutdown">&#xb6;</a>
					
					
				</h3>
				<pre>func (producer *<a href="godoc.10.html#Producer">Producer</a>) StartShutdown()</pre>
				<p>
StartShutdown begins the shutdown of the producer. This method may exit before
remaining work is completed.
</p>

				
				
				
			
		
			
			
			<h2 id="Publication">type <a href="http://localhost:6161/src/github.com/peake100/rogerRabbit-go/roger/amqpproducer/publication.go?s=143:566#L1">Publication</a>
				<a class="permalink" href="godoc.10.html#Publication">&#xb6;</a>
				
				
			</h2>
			<p>
Publication is the order for a publications.
</p>

			<pre>type Publication struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="Publication.WaitOnConfirmation">func (*Publication) <a href="http://localhost:6161/src/github.com/peake100/rogerRabbit-go/roger/amqpproducer/publication.go?s=697:749#L18">WaitOnConfirmation</a>
					<a class="permalink" href="godoc.10.html#Publication.WaitOnConfirmation">&#xb6;</a>
					
					
				</h3>
				<pre>func (order *<a href="godoc.10.html#Publication">Publication</a>) WaitOnConfirmation() <a href="http://localhost:6161/pkg/builtin/#error">error</a></pre>
				<p>
WaitOnConfirmation blocks until the message is confirmed / nacked by the broker
or the context of the publication cancels.
</p>

				
				
				
			
		
	

	







<div id="footer">
Build version go1.13.5.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="http://localhost:6161/LICENSE">BSD license</a>.<br>
<a href="http://localhost:6161/doc/tos.html">Terms of Service</a> |
<a href="http://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->
</body>
</html>
